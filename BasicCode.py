# pybricks blocks file:{"blocks":{"languageVersion":0,"blocks":[{"type":"blockGlobalSetup","id":"bjK,wS1MYO7aiYkFSwd{","x":689,"y":-81,"deletable":false,"next":{"block":{"type":"variables_set_prime_hub","id":"L#atRQ2(((x@}fY0P!^e","extraState":{"optionLevel":3},"fields":{"VAR":{"id":"^Z2FM|pMrWYux-(B;J-~"},"FIELDBROADCAST":0,"FIELDOBSERVE0":1},"inputs":{"AXIS_TOP":{"shadow":{"type":"blockParametersAxis","id":"W.2`Y$y$l%)5?SDO.WNL","fields":{"VALUE":"z"}}},"AXIS_FRONT":{"shadow":{"type":"blockParametersAxis","id":"3d@Y~(VItN5CMq[ly?}4","fields":{"VALUE":"x"}}}},"next":{"block":{"type":"variables_set_motor","id":"Pp!LEVUl%/I~N]9$??19","fields":{"VAR":{"id":"Tajx*kgi2ut}|mmO[d62"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"v$(XH:aeB{vY8K,6HxH]","fields":{"NAME":"A"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"t::5N]KiOg_1HoC0/AVU","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"m(604`$Um+iBZ{hT*~1p","fields":{"VAR":{"id":"J61=?opfv-+1^,)SC$aw"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"P#mE8h5ffa6,vs3-w_H~","fields":{"NAME":"B"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"CWRiz#f},)ofJ,F$AMU2","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_drive_base","id":"|7JbA3:oy}X0.Sg~4]!w","fields":{"VAR":{"id":"P=F}14Vj-8NHL4/!0!c8"}},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"1W1FLC/Opq-HK+zl6{nk","fields":{"VAR":{"id":"Tajx*kgi2ut}|mmO[d62","name":"Right","type":"Motor"}}}},"VAR2":{"shadow":{"type":"variables_get_motor_device","id":"(l!)ToW}pRO2YZxheHg;","fields":{"VAR":{"id":"J61=?opfv-+1^,)SC$aw","name":"Left","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_distance","id":"bPF!+fMey2g^:k41gQCo","fields":{"VALUE0":62}}},"VALUE1":{"shadow":{"type":"unit_distance","id":"Db*Qgkm._C?PfP]-FnN^","fields":{"VALUE0":114}}}},"next":{"block":{"type":"variables_set_motor","id":"%c72%l$flOgwZbrzk,Od","fields":{"VAR":{"id":"=u?gpdPIfc7E_C7J;=Nm"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"`2$5l887Od^(i:IJ^Sx|","fields":{"NAME":"C"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"1v}z9o37-nt%{s@#o%|V","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"kCL}+j,3piY7(]EL8b/M","fields":{"VAR":{"id":"N?fRgnhi2Led7cN8M~ib"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"$vD5rR`:.MgYqXqeoRpg","fields":{"NAME":"D"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"1IdwO6)A7{%Rat~ou5{e","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_setup_any","id":"}Ty-rjNoH*$|jIbw+dDI","fields":{"VAR":{"id":"n7]b/$Q/z^gy4v.:i9Kg"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"U)J^%k?]ws%pzOEyxRbQ","fields":{"NUM":1}}}},"next":{"block":{"type":"variables_setup_any","id":"LerJf$f#=y4HGq%zcGkT","fields":{"VAR":{"id":"(KK8ixmbJ1PA4gN1+al8"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"ZNDc$)Bn;kt@3I.k!N7M","fields":{"NUM":620}}}},"next":{"block":{"type":"variables_setup_any","id":"i.E(=GcPy:cNg^jp)Y_}","fields":{"VAR":{"id":"DKeV;JrND:%/@Z@2!Zrr"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"N|5]v(hbm]@Oo_Ee|R.n","fields":{"NUM":500}}}},"next":{"block":{"type":"variables_setup_any","id":"lv^U]7L]wv$^y}g!ACU~","fields":{"VAR":{"id":"D@`lmuEhTSEhMd*NB|59"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"3RvLPnn,C4G:.Oz.59y!","fields":{"NUM":250}}}},"next":{"block":{"type":"variables_setup_any","id":"]_9jwT+_PFF`DHNKrh^z","fields":{"VAR":{"id":")SSTo!;v-_(ENCUdrmUQ"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"Ji`UKA;[_t9*b$qtpR}i","fields":{"NUM":500}}}},"next":{"block":{"type":"variables_setup_any","id":"Y7RW~`Xx(nu`#+@K|wa$","fields":{"VAR":{"id":"2W:mT7TIg`fc0{qjF.*1"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"D{!IaI3(/(-]P}p@}qV1","fields":{"NUM":810}}}},"next":{"block":{"type":"variables_setup_any","id":"@hR{OQo#Lu_RGQH/`b]/","fields":{"VAR":{"id":"Ov=olwHf$2rD^PM~d:;C"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"u7H;08X%/Hm4#X(!=)kj","fields":{"NUM":0}}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},{"type":"blockGlobalStart","id":"3tJe|AWl0baN(wH9a$@.","x":-115,"y":-55,"deletable":false,"next":{"block":{"type":"blockHubStopButton","id":"6?ED+S(}@wu!!{4g=;?%","inputs":{"VAR":{"shadow":{"type":"variables_get_button_hub","id":"w;fW=77(TGe@=Mm/;.;(","fields":{"VAR":{"id":"^Z2FM|pMrWYux-(B;J-~","name":"prime hub","type":"PrimeHub"}}}},"VALUE0":{"shadow":{"type":"blockParametersButton","id":"HUri-=)Kk!XVGDTHwTlm","fields":{"VALUE":"CENTER"}},"block":{"type":"blockNone","id":"Ui#pORzc7.wFTxRJDfDF"}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"F[b4g2*Q44sBr,8c!Zb~","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_SPEED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"^DV3wZ06FX}J}pRxSl[P","fields":{"VAR":{"id":"P=F}14Vj-8NHL4/!0!c8","name":"DriveTrain","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":"0cx.3]?=R~T9s|~qlc0@","fields":{"VALUE0":200}},"block":{"type":"blockVariableGetValue","id":"3@~[aC90FNbpIN1cX6d(","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"KWo3YIpj`tD%!BjDK`u`","fields":{"VAR":{"id":"(KK8ixmbJ1PA4gN1+al8","name":"Straight Speed","type":"Any"}}}}}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"1ATlvL%8J1u|If]$_|`p","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_ACCELERATION"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"K1uFh^OX}guLEHpW[zmA","fields":{"VAR":{"id":"P=F}14Vj-8NHL4/!0!c8","name":"DriveTrain","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_acceleration","id":"-x/;t/[XFIPmS:V#PECH","fields":{"VALUE0":750}},"block":{"type":"blockVariableGetValue","id":"Q_3Clp(l=V3XPAe?6H{%","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"i,Cv7RfVn0a8S)gV1umf","fields":{"VAR":{"id":"DKeV;JrND:%/@Z@2!Zrr","name":"Straight Acceleration","type":"Any"}}}}}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"#hv)3S!]JrU#q5]MPH+$","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_TURN_RATE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"VJcmwVOpQt*0V7Vq+l5d","fields":{"VAR":{"id":"P=F}14Vj-8NHL4/!0!c8","name":"DriveTrain","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angularVelocity","id":"-D#WGGKm6Igzy;r,$y$u","fields":{"VALUE0":150}},"block":{"type":"blockVariableGetValue","id":"_l8aa2D=+}c,@cbO`pJb","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"YYB94.b6;LUV%-Ke6BRp","fields":{"VAR":{"id":"D@`lmuEhTSEhMd*NB|59","name":"Turn Speed","type":"Any"}}}}}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"n1^_+dQ4D{e#qlb#=t6[","extraState":{"optionLevel":4},"fields":{"METHOD":"DRIVEBASE_TURN_ACCELERATION"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"GAF{!mS/p(CY3;q|gV1M","fields":{"VAR":{"id":"P=F}14Vj-8NHL4/!0!c8","name":"DriveTrain","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angularAcceleration","id":"u)`d?_C{p[lX|2.3Dl.%","fields":{"VALUE0":750}},"block":{"type":"blockVariableGetValue","id":"yxULa8)F!a2bffDOXpH(","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"VXb|aV(F{:3?q[^2lq(*","fields":{"VAR":{"id":")SSTo!;v-_(ENCUdrmUQ","name":"Turn Acceleration","type":"Any"}}}}}}}},"next":{"block":{"type":"blockImuResetHeading","id":"t`30+hV_on{0gO5i6/]w","inputs":{"VAR":{"shadow":{"type":"variables_get_imu_hub","id":"WHN_#A5fh$B|_A4mWMR;","fields":{"VAR":{"id":"^Z2FM|pMrWYux-(B;J-~","name":"prime hub","type":"PrimeHub"}}}},"VALUE0":{"shadow":{"type":"unit_angle","id":"XS|wfqhPhAeR!fr]eL@?","fields":{"VALUE0":0}}}},"next":{"block":{"type":"blockFlowWhile","id":"v]^ACYefP534C[*cf+yh","fields":{"MODE":"WHILE"},"inputs":{"BOOL":{"shadow":{"type":"blockLogicTrue","id":"iuEXLb,p{7jQ(F*f5[Du"}},"DO":{"block":{"type":"blockLightMatrixDo","id":"-4*i:G0+fLC$dkjSHYJb","extraState":{"optionLevel":1},"fields":{"METHOD":"LIGHT_MATRIX_NUMBER"},"inputs":{"VAR":{"shadow":{"type":"variables_get_light_matrix_hub","id":"9]*=.rC(#eV8hE#}*(ui","fields":{"VAR":{"id":"^Z2FM|pMrWYux-(B;J-~","name":"prime hub","type":"PrimeHub"}}}},"ARG0":{"shadow":{"type":"blockMathNumber","id":"]vUW|/%YxW_6q5E::Y)h","fields":{"NUM":42}},"block":{"type":"blockVariableGetValue","id":"0@6]@Gt#hL:zzD5an6sk","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"u(KcfD/iD/QE2tj}!o_N","fields":{"VAR":{"id":"n7]b/$Q/z^gy4v.:i9Kg","name":"Current program","type":"Any"}}}}}}}},"next":{"block":{"type":"blockLightOnColor","id":"87Y2ZwMwT#8KWYIiR.%d","extraState":{"optionLevel":1},"fields":{"METHOD":"LIGHT_ON"},"inputs":{"VAR":{"shadow":{"type":"variables_get_color_light_device","id":"kUMAo?4g2Hp)Ip*3ET:N","fields":{"VAR":{"id":"^Z2FM|pMrWYux-(B;J-~","name":"prime hub","type":"PrimeHub"}}}},"COLOR":{"shadow":{"type":"variables_get_color","id":"iQ=uP^,G,wy7m3(/?RxZ","fields":{"COLOUR":"#0000ff","VAR":{"id":"`7PhaGX`!I:yUCMhdMCK","name":"blue","type":"ColorDef"}}}}},"next":{"block":{"type":"blockIfElse","id":"r0Zwf4c;x8QbK[H^(-k/","extraState":{"optionLevel":3},"inputs":{"IF0":{"shadow":{"type":"blockLogicTrue","id":"sED0g2(@!)Jl*ttuZW[$"},"block":{"type":"blockButtonIsPressed","id":"0[c}+;#rRbBR!_[H+RDq","inputs":{"VAR":{"shadow":{"type":"variables_get_keypad","id":"eY9QL$wi^7%5-6jjFkCP","fields":{"VAR":{"id":"^Z2FM|pMrWYux-(B;J-~","name":"prime hub","type":"PrimeHub"}}}},"VALUE0":{"shadow":{"type":"blockParametersButton","id":"a7VM[06hT#Q]mAY!Q3@1","fields":{"VALUE":"RIGHT"}}}}}},"DO0":{"block":{"type":"blockVariableSetValue","id":"?wVSB4TH$Lxx[{,vk#L|","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"pswlU23lH2)}Sdf]RrCO","fields":{"VAR":{"id":"n7]b/$Q/z^gy4v.:i9Kg","name":"Current program","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"jdwh:PCjGz/X0NDb#3@Q","fields":{"NUM":0}},"block":{"type":"blockMathArithmetic","id":"^pL5#`#yH{/`ngy?ANf|","fields":{"OP":"ADD"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"r$ZA)Yyalsr;_D3GW*9?","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":";58~,q-P}L5[i8-PpO{+","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"RX}Jw?7..T}pqh:|?rB-","fields":{"VAR":{"id":"n7]b/$Q/z^gy4v.:i9Kg","name":"Current program","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"$vuF-ep{n/NAN*oV/FH!","fields":{"NUM":1}}}}}}},"next":{"block":{"type":"blockWaitTime","id":"04eU@!C8sW_]`R-2L|z.","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"4+{L(JN9dKn}^J/|Pb,I","fields":{"VALUE0":350}}}}}}}},"IF1":{"shadow":{"type":"blockLogicTrue","id":"Z#z1w/c(+wO?4JW9D;kD"},"block":{"type":"blockButtonIsPressed","id":"x73zPqHScuL2,,vOFoC1","inputs":{"VAR":{"shadow":{"type":"variables_get_keypad","id":"q~k%I`d_(X-Vih^$Xym{","fields":{"VAR":{"id":"^Z2FM|pMrWYux-(B;J-~","name":"prime hub","type":"PrimeHub"}}}},"VALUE0":{"shadow":{"type":"blockParametersButton","id":"N*?_)@rpm+2efM[gzu3-","fields":{"VALUE":"LEFT"}}}}}},"DO1":{"block":{"type":"blockVariableSetValue","id":"jQ88W+*#r2[.0T]*,^u?","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"L?fO#Mz@/-^EH9+/a|)+","fields":{"VAR":{"id":"n7]b/$Q/z^gy4v.:i9Kg","name":"Current program","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"jdwh:PCjGz/X0NDb#3@Q","fields":{"NUM":0}},"block":{"type":"blockMathArithmetic","id":"IM~xt^J`Y6}g5R{g{{Ps","fields":{"OP":"MINUS"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"r$ZA)Yyalsr;_D3GW*9?","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"siy9bCi[a(|VrqL%g((Y","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"%P=;)pUz.zQ#VPSm9(BF","fields":{"VAR":{"id":"n7]b/$Q/z^gy4v.:i9Kg","name":"Current program","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":":|jJ8R-MB%XSI*%0;#P!","fields":{"NUM":1}}}}}}},"next":{"block":{"type":"blockWaitTime","id":"=Sl?3aZ?f?lpdp~AY%/$","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"TSRh`u@;5f4QF1])+h2W","fields":{"VALUE0":350}}}}}}}},"IF2":{"shadow":{"type":"blockLogicTrue","id":"l5Orb,uB!^T~#(DX.M1o"},"block":{"type":"blockButtonIsPressed","id":"s7PHM~9Y3uc|U}O(?tjt","inputs":{"VAR":{"shadow":{"type":"variables_get_keypad","id":")8.=;HB`%Xv0}r@kDR?y","fields":{"VAR":{"id":"^Z2FM|pMrWYux-(B;J-~","name":"prime hub","type":"PrimeHub"}}}},"VALUE0":{"shadow":{"type":"blockParametersButton","id":"/@1(F%#hf7b3uluc}g-i","fields":{"VALUE":"CENTER"}}}}}},"DO2":{"block":{"type":"blockIfElse","id":"0`c5+5R|+A$pONARTp:(","extraState":{"optionLevel":4},"inputs":{"IF0":{"shadow":{"type":"blockLogicTrue","id":"H)@K[4m(I*)~*=wohnLr"},"block":{"type":"blockLogicCompare","id":"=$5[E5o,^pEl3)+Q)F)z","fields":{"OP1":"EQ"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"Cm0y~w]Uzk_F_,-)BFk/","fields":{"NUM":3}},"block":{"type":"blockVariableGetValue","id":"sDei`%DC;m+#C/9[$Ckf","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"EjGA^d=W%fp123!)D8tC","fields":{"VAR":{"id":"n7]b/$Q/z^gy4v.:i9Kg","name":"Current program","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"!_Yd#SCrM(|i_Is*SjRo","fields":{"NUM":1}}}}}},"DO0":{"block":{"type":"blockFunctionCallerStatement","id":"r/PZQ=5F(86gTbMFD]K)","extraState":{"optionLevel":0},"fields":{"ICON":"DRIVEBASE","VAR":{"id":"Fh(c0%@%%u;[?{}Esy6%"}},"next":{"block":{"type":"blockWaitTime","id":"G*A*,A{eF^@rJL_GjdhB","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"sxjQ.R6OV%F:pJWX0?dt","fields":{"VALUE0":300}}}}}}}},"IF1":{"shadow":{"type":"blockLogicTrue","id":":J4:8`6Jb%0UchAojHW_"},"block":{"type":"blockLogicCompare","id":"fQ0Xk/t_#qcsS*XN$y2A","fields":{"OP1":"EQ"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"Cm0y~w]Uzk_F_,-)BFk/","fields":{"NUM":3}},"block":{"type":"blockVariableGetValue","id":"i5LI_o!VdIJ?zi#jy-x~","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"7[lwG[@,JM4I(2Tn5Xxc","fields":{"VAR":{"id":"n7]b/$Q/z^gy4v.:i9Kg","name":"Current program","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"reoyTXORP9q?`wk_hvzf","fields":{"NUM":2}}}}}},"DO1":{"block":{"type":"blockFunctionCallerStatement","id":",;B{W4.8OviLQdg#}O4i","extraState":{"optionLevel":0},"fields":{"ICON":"DRIVEBASE","VAR":{"id":"k[gd6u~X;BqOF!RM}X::"}},"next":{"block":{"type":"blockWaitTime","id":"$.%*5)8LD#%|S2Tc#$iA","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"6$,%(YYgHd.4A.v4!u6,","fields":{"VALUE0":300}}}}}}}},"IF2":{"shadow":{"type":"blockLogicTrue","id":"?#3(6Enh3*4}P@5Iwl?a"},"block":{"type":"blockLogicCompare","id":"`Js;lQ|)ty;BeJMO(5v?","fields":{"OP1":"EQ"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"Cm0y~w]Uzk_F_,-)BFk/","fields":{"NUM":3}},"block":{"type":"blockVariableGetValue","id":"x_B`3LMrrH$l)[zz~^Y%","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"c.j9a|@~^T4p)H!kArlP","fields":{"VAR":{"id":"n7]b/$Q/z^gy4v.:i9Kg","name":"Current program","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"LIZ2DJ*3zk4Ej|4|g10T","fields":{"NUM":3}}}}}},"DO2":{"block":{"type":"blockFunctionCallerStatement","id":"zqsWXW,^ot3sP,kG6;4;","extraState":{"optionLevel":0},"fields":{"ICON":"DRIVEBASE","VAR":{"id":"S@22lPB_%7iJp2v^1-T/"}},"next":{"block":{"type":"blockWaitTime","id":"[Fd+*j4]TLSUF0,DKKMY","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"mL@2}|M)_H)Z#SH1m(s;","fields":{"VALUE0":300}}}}}}}},"IF3":{"shadow":{"type":"blockLogicTrue","id":"8IRD3T?%xQ1)$MblVEPW"},"block":{"type":"blockLogicCompare","id":"]DdhSGaUP+1ao7IAAT-V","fields":{"OP1":"EQ"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"Cm0y~w]Uzk_F_,-)BFk/","fields":{"NUM":3}},"block":{"type":"blockVariableGetValue","id":"OAQ54[FcR+d;dQNrZN,9","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"zb;~r[`yh[.k(Wa4Tyye","fields":{"VAR":{"id":"n7]b/$Q/z^gy4v.:i9Kg","name":"Current program","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"L;pbZid5@ToxhYqkwFvE","fields":{"NUM":4}}}}}}}}},"ELSE":{"block":{"type":"blockWaitTime","id":"R|`ni2ODogTsTEj(5[:Z","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"GxlbZ1!j2#G]/8VO5m%|","fields":{"VALUE0":10}}}}}}},"next":{"block":{"type":"blockDriveBaseStop","id":"6@#EXJ8mZO3qyC:8UgbL","inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"(jl0WB2DBiI(0*$gGVhX","fields":{"VAR":{"id":"P=F}14Vj-8NHL4/!0!c8","name":"DriveTrain","type":"DriveBase"}}}},"VALUE0":{"shadow":{"type":"parameters_stop_3","id":"5n;-2gU(5Cpfj;;JU=h]","fields":{"VALUE":"Stop.COAST"}}}},"next":{"block":{"type":"blockVariableSetValue","id":"nm5/DrpnWWs{AObMH4D-","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"Xp5a;)rZd7!s`CsqLu4:","fields":{"VAR":{"id":"Ov=olwHf$2rD^PM~d:;C","name":"In Leg","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"S/DUgcZc{SSF/Q(#3ug;","fields":{"NUM":0}}}}}}}}}}}}}}}}}}}}}}}}}}}}}},{"type":"variables_setup_function","id":"H|EJIH{cvRO:w`)zu%~W","x":1551,"y":-89,"extraState":{"optionLevel":0},"fields":{"ICON":"DRIVEBASE","VAR":{"id":"Fh(c0%@%%u;[?{}Esy6%"}},"inputs":{"STACK":{"block":{"type":"blockFunctionCallerStatement","id":"@m%WIo)GkntC2``O.]1r","extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"Z3;Knkh3e#p{c^ybM{+/"}},"next":{"block":{"type":"blockLightOnColor","id":"q$]o*wk-ff;poBe*eXKZ","extraState":{"optionLevel":1},"fields":{"METHOD":"LIGHT_ON"},"inputs":{"VAR":{"shadow":{"type":"variables_get_color_light_device","id":"z7Q?t5B~ljb@F+qIPUw~","fields":{"VAR":{"id":"^Z2FM|pMrWYux-(B;J-~","name":"prime hub","type":"PrimeHub"}}}},"COLOR":{"shadow":{"type":"variables_get_color","id":"PQzei}#cqm`i4^;|n-ky","fields":{"COLOUR":"#ffff00","VAR":{"id":"r56GV[`Wm_];UFJx(~)F","name":"yellow","type":"ColorDef"}}}}},"next":{"block":{"type":"blockDriveBaseStop","id":"l1}quNI2,TVSeCp;p{4e","inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"r/{7Hn@m[UunHn6|0B.]","fields":{"VAR":{"id":"P=F}14Vj-8NHL4/!0!c8","name":"DriveTrain","type":"DriveBase"}}}},"VALUE0":{"shadow":{"type":"parameters_stop_3","id":"vn:YPR;-vXW0AB/k{QgB","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockSpeakerBeep","id":")(%)Rba-DO^)sc]HYP,)","inputs":{"VAR":{"shadow":{"type":"variables_get_speaker_hub","id":"(:lbIU;M{ge9pLtK][0`","fields":{"VAR":{"id":"^Z2FM|pMrWYux-(B;J-~","name":"prime hub","type":"PrimeHub"}}}},"VALUE0":{"shadow":{"type":"unit_frequency","id":"^i~D#rWf^n~I(YE{TJ`q","fields":{"VALUE0":550}}},"VALUE1":{"shadow":{"type":"unit_time","id":"p/X+Y~E-P3?,,e+-:S@c","fields":{"VALUE0":200}}}},"next":{"block":{"type":"blockWaitTime","id":"l/;1|,^m]%U9k)59h!t5","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"06Wt3--OdAzvD+u-kNEv","fields":{"VALUE0":200}}}},"next":{"block":{"type":"blockDriveBaseUseGyro","id":"jrs{f1ncSN|Kp+)OPr(9","fields":{"METHOD":"DRIVEBASE_USE_GYRO_TRUE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"2^V|/{%BNM$*,dLq0iDy","fields":{"VAR":{"id":"P=F}14Vj-8NHL4/!0!c8","name":"DriveTrain","type":"DriveBase"}}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"0!:umNxl5cfuhe{8Ywb%","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"/m726!S)P0vMA%6mQl=]","fields":{"VAR":{"id":"P=F}14Vj-8NHL4/!0!c8","name":"DriveTrain","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"r6I8,uVE|D#=dI$XYOu6","fields":{"VALUE0":250}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"P@_+C8yuq?)[-dB|d$#D","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockFunctionCallerStatement","id":"v@tUJMhyr39:41v=4T0(","extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"ipKZdkeXL^bo%jUYJc~,"}}}}}}}}}}}}}}}}}}}},{"type":"variables_setup_function","id":"**1{m2[V/~?DiaA%%oN`","x":1540,"y":453,"extraState":{"optionLevel":0},"fields":{"ICON":"DRIVEBASE","VAR":{"id":"k[gd6u~X;BqOF!RM}X::"}},"inputs":{"STACK":{"block":{"type":"blockFunctionCallerStatement","id":"yE=MP#iuu(1N/-uQzO5w","extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"Z3;Knkh3e#p{c^ybM{+/"}},"next":{"block":{"type":"blockPrint","id":"hbb*auMo]$DfqRttTl$M","extraState":{"optionLevel":0},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"d_iS}l38jh{Mu=+ucA?Q","fields":{"TEXT":"Works"}}}},"next":{"block":{"type":"blockFunctionCallerStatement","id":"3aI1pTW9zv$DP[2x}$Y@","extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"ipKZdkeXL^bo%jUYJc~,"}}}}}}}}}},{"type":"variables_setup_function","id":"*Z;7mY%SmSG-om$vl1(6","x":1543,"y":752,"extraState":{"optionLevel":0},"fields":{"ICON":"DRIVEBASE","VAR":{"id":"S@22lPB_%7iJp2v^1-T/"}},"inputs":{"STACK":{"block":{"type":"blockFunctionCallerStatement","id":"2^GVtl:hy:H#@.Megd.6","extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"Z3;Knkh3e#p{c^ybM{+/"}},"next":{"block":{"type":"blockLightOnColor","id":"A(U7:69l3Eq7q31zR?%[","extraState":{"optionLevel":1},"fields":{"METHOD":"LIGHT_ON"},"inputs":{"VAR":{"shadow":{"type":"variables_get_color_light_device","id":"%?U/nDq#o~l_iH%68-.X","fields":{"VAR":{"id":"^Z2FM|pMrWYux-(B;J-~","name":"prime hub","type":"PrimeHub"}}}},"COLOR":{"shadow":{"type":"variables_get_color","id":"`=FPMTz.z+wBn}u]4BE@","fields":{"COLOUR":"#8000ff","VAR":{"id":"qa4gm~cpPGy?A,Vkc.ps","name":"violet","type":"ColorDef"}}}}},"next":{"block":{"type":"blockDriveBaseStop","id":"32XBNI!/r$Ky1+@w7(t=","inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"@V$b]f,}I/?e*pe_zHW9","fields":{"VAR":{"id":"P=F}14Vj-8NHL4/!0!c8","name":"DriveTrain","type":"DriveBase"}}}},"VALUE0":{"shadow":{"type":"parameters_stop_3","id":"^$j7!=+F$6huTQ|}s^!!","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockSpeakerBeep","id":"vdDN@4PKGj2]o;b6sdq}","inputs":{"VAR":{"shadow":{"type":"variables_get_speaker_hub","id":"V[p}4Vrt6fZm3D|g3a*?","fields":{"VAR":{"id":"^Z2FM|pMrWYux-(B;J-~","name":"prime hub","type":"PrimeHub"}}}},"VALUE0":{"shadow":{"type":"unit_frequency","id":"vsF//d^PBD|!PA=o8~og","fields":{"VALUE0":550}}},"VALUE1":{"shadow":{"type":"unit_time","id":"OApRO*XMjZx=Pc?e9[k,","fields":{"VALUE0":200}}}},"next":{"block":{"type":"blockWaitTime","id":"[m.ss/dPH{@U2H7Pz{+[","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"JvL#{f@Yri|WBom#6ljT","fields":{"VALUE0":200}}}},"next":{"block":{"type":"blockDriveBaseUseGyro","id":"!z*r^gI=NUH/l]$XSBt(","fields":{"METHOD":"DRIVEBASE_USE_GYRO_TRUE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"Kr9sTZu6}4(L$R#BifMe","fields":{"VAR":{"id":"P=F}14Vj-8NHL4/!0!c8","name":"DriveTrain","type":"DriveBase"}}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"-?PuF2Cw/d68|1%U=J^j","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"7_qjxw`9Gkp_W[-DT]p(","fields":{"VAR":{"id":"P=F}14Vj-8NHL4/!0!c8","name":"DriveTrain","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"6aeH!I~*bds7NC~9Cu=w","fields":{"VALUE0":1000}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"TLGYqe|v[4~M#8O9ZAQB","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"^g5mh5Le/}xqirwnB#@}","extraState":{"optionLevel":3},"fields":{"METHOD":"DRIVEBASE_DRIVE_TURN"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"JWfYS3j0jodYX/ZV%t9f","fields":{"VAR":{"id":"P=F}14Vj-8NHL4/!0!c8","name":"DriveTrain","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_angle","id":"|$B~T?!o!_q}wI.hw0@h","fields":{"VALUE0":90}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"3!BP(E.b{i:ce@M%?2hH","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockDriveBaseDrive","id":"J0Y+kF^8W+cW)A{vfp^;","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"E!#kSP6E6$HR~VT2EFh-","fields":{"VAR":{"id":"P=F}14Vj-8NHL4/!0!c8","name":"DriveTrain","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"F+$NThnH;MA,CR$;8!wi","fields":{"VALUE0":900}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"E#Mp`v7eab5F.O#!x:Ov","fields":{"VALUE":"Stop.HOLD"}}}},"next":{"block":{"type":"blockFunctionCallerStatement","id":"jrAg[ctv*8YM/bRR)gtq","extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"ipKZdkeXL^bo%jUYJc~,"}}}}}}}}}}}}}}}}}}}}}}}},{"type":"variables_setup_function","id":"d#Owvdp/Alpg,7]nHeA=","x":688,"y":1104,"extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"Z3;Knkh3e#p{c^ybM{+/"}},"inputs":{"STACK":{"block":{"type":"blockVariableSetValue","id":"dF+=G[?Y*F3f|(iD`Z9+","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"6.,W-XP+I,B5;bA^wpgF","fields":{"VAR":{"id":"Ov=olwHf$2rD^PM~d:;C","name":"In Leg","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"Hw?*Y~D(r:gT2(G^-7jj","fields":{"NUM":1}}}},"next":{"block":{"type":"blockLightMatrixDo","id":"obWge2oic/O3_DRv72zl","extraState":{"optionLevel":4},"fields":{"METHOD":"LIGHT_MATRIX_OFF"},"inputs":{"VAR":{"shadow":{"type":"variables_get_light_matrix_hub","id":"?J?pvlc?:vGsTo1A9v)=","fields":{"VAR":{"id":"^Z2FM|pMrWYux-(B;J-~","name":"prime hub","type":"PrimeHub"}}}}},"next":{"block":{"type":"blockLightMatrixDo","id":"y]=aoC0WhGoGE?`ATz!:","extraState":{"optionLevel":3},"fields":{"METHOD":"LIGHT_MATRIX_PIXEL"},"inputs":{"VAR":{"shadow":{"type":"variables_get_light_matrix_hub","id":"H#0o[e`q}3|L;OR[w[54","fields":{"VAR":{"id":"^Z2FM|pMrWYux-(B;J-~","name":"prime hub","type":"PrimeHub"}}}},"ARG0":{"shadow":{"type":"blockMathNumber","id":"XCob+h?dIrr!bH_4RSe9","fields":{"NUM":2}}},"ARG1":{"shadow":{"type":"blockMathNumber","id":"dY5i+@RIKv#QC5U)WhFA","fields":{"NUM":2}}},"ARG2":{"shadow":{"type":"unit_percent","id":"8@B.?`{0JE;@=}vN.{}Y","fields":{"VALUE0":25}}}}}}}}}}}},{"type":"variables_setup_function","id":"|Ao~=b8t0LkX~XAl^)Yl","x":693,"y":1359,"extraState":{"optionLevel":0},"fields":{"ICON":"TASK","VAR":{"id":"ipKZdkeXL^bo%jUYJc~,"}},"inputs":{"STACK":{"block":{"type":"blockVariableSetValue","id":"1BJ(*P3*#l%,jNGNb}MX","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"CpD??zNKwOXdEY+/F,/|","fields":{"VAR":{"id":"Ov=olwHf$2rD^PM~d:;C","name":"In Leg","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"iO/hA$CTTKulk}KYih*j","fields":{"NUM":0}}}}}}}},{"type":"blockGlobalStart","id":"TDe87!/o6`|i(jh!fS)g","x":688,"y":679,"next":{"block":{"type":"blockFlowWhile","id":"e+pijP*9zXT7MM.Q/G?D","fields":{"MODE":"WHILE"},"inputs":{"BOOL":{"shadow":{"type":"blockLogicTrue","id":"h}P3+Q$E2v34MX1p$`o?"}},"DO":{"block":{"type":"blockIfElse","id":"sN%g-Ib!$tt#N$-OGX#l","extraState":{"optionLevel":1},"inputs":{"IF0":{"shadow":{"type":"blockLogicTrue","id":"lN0jb~Ct^V62IhUwT|=s"},"block":{"type":"blockLogicCompare","id":"j}%K!s;J7Tv$c4w3T]Vm","fields":{"OP1":"EQ"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"gSYmhq{j2Q6!9C^pJ|@K","fields":{"NUM":3}},"block":{"type":"blockVariableGetValue","id":")Zw%|i)eDfinJ(ry)S!q","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"eMM[LafCcb5_a=J{fuD6","fields":{"VAR":{"id":"Ov=olwHf$2rD^PM~d:;C","name":"In Leg","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"P}c}(}wWkl=z[l8Lmg4?","fields":{"NUM":1}}}}}},"DO0":{"block":{"type":"blockWaitTime","id":"2Jo3H[_q.?IiGwd:po:Y","inputs":{"VALUE0":{"shadow":{"type":"unit_time","id":"ph#DOi89SdCt=x/;(Ql|","fields":{"VALUE0":200}}}},"next":{"block":{"type":"blockHubStopButton","id":"zM$%s[D~Vi~;2)EBp:|f","inputs":{"VAR":{"shadow":{"type":"variables_get_button_hub","id":"1NFWyY.BQ97RxTbSn{Fw","fields":{"VAR":{"id":"^Z2FM|pMrWYux-(B;J-~","name":"prime hub","type":"PrimeHub"}}}},"VALUE0":{"shadow":{"type":"blockParametersButton","id":"GFG#9/wBk6!Ae_#22!KQ","fields":{"VALUE":"CENTER"}}}}}}}},"ELSE":{"block":{"type":"blockHubStopButton","id":"C!nxeVswM2`F^[$E{TDB","inputs":{"VAR":{"shadow":{"type":"variables_get_button_hub","id":"el/j_hW1sr+0h[MvNry@","fields":{"VAR":{"id":"^Z2FM|pMrWYux-(B;J-~","name":"prime hub","type":"PrimeHub"}}}},"VALUE0":{"shadow":{"type":"blockParametersButton","id":"HUri-=)Kk!XVGDTHwTlm","fields":{"VALUE":"CENTER"}},"block":{"type":"blockNone","id":"[!7Q(JTZx$LDCS,5Pf@T"}}}}}}}}}}}},{"type":"variables_set_force_sensor","id":"dls4FZ?5p{I*]G(/E.^0","x":1067,"y":305,"enabled":false,"fields":{"VAR":{"id":"r`3H:;*uG_9)QE@aIln."}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"qVvNBt:}@89zul;h`/|o","fields":{"NAME":"E"}}}},"next":{"block":{"type":"variables_set_color_sensor","id":"FN@YK`F5sn6[n]a`TN-o","enabled":false,"extraState":{"optionLevel":0},"fields":{"VAR":{"id":"y|dY2VeXc^m*;/eG=H]1"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"L[*Ot^$?E=6,}fIJkx5(","fields":{"NAME":"F"}}}}}}}]},"variables":[{"name":"red","id":"Fl9ZU-Oq3dE;c-`JvCL4","type":"ColorDef"},{"name":"orange","id":"d,py*|^=zvgr)hmCO_r[","type":"ColorDef"},{"name":"yellow","id":"r56GV[`Wm_];UFJx(~)F","type":"ColorDef"},{"name":"green","id":"mpeD)SKp+T9%Hv^,z^rA","type":"ColorDef"},{"name":"cyan","id":"B?.@|de*5]CH${VyAX0`","type":"ColorDef"},{"name":"blue","id":"`7PhaGX`!I:yUCMhdMCK","type":"ColorDef"},{"name":"violet","id":"qa4gm~cpPGy?A,Vkc.ps","type":"ColorDef"},{"name":"magenta","id":"wh0OepGl5YK~s9Qohr3,","type":"ColorDef"},{"name":"white","id":"L`:Q5h*72UYR;AcjmVY(","type":"ColorDef"},{"name":"none","id":"l9UA6f)Js3{u8FWD9p4M","type":"ColorDef"},{"name":"color sensor","id":"y|dY2VeXc^m*;/eG=H]1","type":"ColorSensor"},{"name":"force sensor","id":"r`3H:;*uG_9)QE@aIln.","type":"ForceSensor"},{"name":"prime hub","id":"^Z2FM|pMrWYux-(B;J-~","type":"PrimeHub"},{"name":"Right","id":"Tajx*kgi2ut}|mmO[d62","type":"Motor"},{"name":"Left","id":"J61=?opfv-+1^,)SC$aw","type":"Motor"},{"name":"Left Gear","id":"=u?gpdPIfc7E_C7J;=Nm","type":"Motor"},{"name":"Right Gear","id":"N?fRgnhi2Led7cN8M~ib","type":"Motor"},{"name":"DriveTrain","id":"P=F}14Vj-8NHL4/!0!c8","type":"DriveBase"},{"name":"Leg 1","id":"Fh(c0%@%%u;[?{}Esy6%","type":"Function"},{"name":"Leg 2","id":"k[gd6u~X;BqOF!RM}X::","type":"Function"},{"name":"Leg 3","id":"S@22lPB_%7iJp2v^1-T/","type":"Function"},{"name":"Start Task","id":"Z3;Knkh3e#p{c^ybM{+/","type":"Function"},{"name":"End Task","id":"ipKZdkeXL^bo%jUYJc~,","type":"Function"},{"name":"Current program","id":"n7]b/$Q/z^gy4v.:i9Kg","type":"Any"},{"name":"Straight Speed","id":"(KK8ixmbJ1PA4gN1+al8","type":"Any"},{"name":"Straight Acceleration","id":"DKeV;JrND:%/@Z@2!Zrr","type":"Any"},{"name":"Turn Speed","id":"D@`lmuEhTSEhMd*NB|59","type":"Any"},{"name":"Turn Acceleration","id":")SSTo!;v-_(ENCUdrmUQ","type":"Any"},{"name":"Attachment Speed","id":"2W:mT7TIg`fc0{qjF.*1","type":"Any"},{"name":"In Leg","id":"Ov=olwHf$2rD^PM~d:;C","type":"Any"}],"info":{"type":"pybricks","version":"1.2.3"}}
from pybricks.hubs import PrimeHub
from pybricks.parameters import Axis, Button, Color, Direction, Port
from pybricks.pupdevices import Motor
from pybricks.robotics import DriveBase
from pybricks.tools import multitask, run_task, wait

# Set up all devices.
prime_hub = PrimeHub(top_side=Axis.Z, front_side=Axis.X, broadcast_channel=0, observe_channels=[1])
Right = Motor(Port.A, Direction.COUNTERCLOCKWISE)
Left = Motor(Port.B, Direction.CLOCKWISE)
DriveTrain = DriveBase(Right, Left, 62, 114)
Left_Gear = Motor(Port.C, Direction.COUNTERCLOCKWISE)
Right_Gear = Motor(Port.D, Direction.COUNTERCLOCKWISE)

# Initialize variables.
Current_program = 1
Straight_Speed = 620
Straight_Acceleration = 500
Turn_Speed = 250
Turn_Acceleration = 500
Attachment_Speed = 810
In_Leg = 0

async def Leg_1():
    await wait(1)
    await Start_Task()
    prime_hub.light.on(Color.YELLOW)
    DriveTrain.straight(0)
    await prime_hub.speaker.beep(550, 200)
    await wait(200)
    DriveTrain.use_gyro(True)
    await DriveTrain.straight(250)
    await End_Task()

async def Leg_2():
    await wait(1)
    await Start_Task()
    print('Works')
    await End_Task()

async def Leg_3():
    await wait(1)
    await Start_Task()
    prime_hub.light.on(Color.VIOLET)
    DriveTrain.straight(0)
    await prime_hub.speaker.beep(550, 200)
    await wait(200)
    DriveTrain.use_gyro(True)
    await DriveTrain.straight(1000)
    await DriveTrain.turn(90)
    await DriveTrain.straight(900)
    await End_Task()

async def Start_Task():
    global In_Leg
    await wait(1)
    In_Leg = 1
    prime_hub.display.off()
    prime_hub.display.pixel(2, 2, 25)

async def End_Task():
    global In_Leg
    await wait(1)
    In_Leg = 0

async def main1():
    global Current_program, In_Leg
    prime_hub.system.set_stop_button(None)
    DriveTrain.settings(straight_speed=Straight_Speed)
    DriveTrain.settings(straight_acceleration=Straight_Acceleration)
    DriveTrain.settings(turn_rate=Turn_Speed)
    DriveTrain.settings(turn_acceleration=Turn_Acceleration)
    prime_hub.imu.reset_heading(0)
    while True:
        await wait(1)
        prime_hub.display.number(Current_program)
        prime_hub.light.on(Color.BLUE)
        if Button.RIGHT in prime_hub.buttons.pressed():
            Current_program = Current_program + 1
            await wait(350)
        elif Button.LEFT in prime_hub.buttons.pressed():
            Current_program = Current_program - 1
            await wait(350)
        elif Button.CENTER in prime_hub.buttons.pressed():
            if Current_program == 1:
                await Leg_1()
                await wait(300)
            elif Current_program == 2:
                await Leg_2()
                await wait(300)
            elif Current_program == 3:
                await Leg_3()
                await wait(300)
            elif Current_program == 4:
                pass
            else:
                pass
        else:
            await wait(10)
        DriveTrain.stop()
        In_Leg = 0

async def main2():
    while True:
        await wait(1)
        if In_Leg == 1:
            await wait(200)
            prime_hub.system.set_stop_button(Button.CENTER)
        else:
            prime_hub.system.set_stop_button(None)


async def main():
    await multitask(main1(), main2())

run_task(main())